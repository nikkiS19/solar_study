
@login_required(login_url="landing:login")
def courseHome(request):
    courses=Course.objects.all()
    context={'courses':courses}
    return render(request,'courses/all_courses.html',context)


def courseDetail(request,slug):
    courses=Course.objects.all()
    context={'courses':courses}
    return render(request,'courses/course_detail.html',context)

    
def lessonDetail(self,request,course_slug,lesson_slug,*args,**kwargs):
    course_qs=Course.objects.filter(slug=course_slug)
    if course_qs.exists():
        course=course_qs.first()

    lesson_qs=course.lessons.filter(slug=lesson_slug)
    if lesson_qs.exists():
        lesson=lesson_qs.first()

    context={
        'lesson':lesson
    }

    return render(request,'courses/course_detail.html',context)